---
/* ================================
   BE FREE TOURS - About Page
   Sobre a empresa
   ================================ */

import BaseLayout from "../../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import { useTranslations } from "../../i18n/utils";
import { pageContent } from "../../data/pageContent.js";
import { getPageSEO, getAboutPageSchema, getBreadcrumbSchema } from "../../utils/seoHelpers.js";
import Breadcrumbs from "../../components/Breadcrumbs.astro";

// Import about image
import aboutImage from "../../images/about/about-rio.webp";

const lang = "pt-br";
const t = useTranslations(lang);
const content = pageContent.about[lang];

// SEO
const siteUrl = Astro.site?.toString() || "https://befreetours.com.br";
const seo = getPageSEO("about", lang);

// Schemas
const aboutPageSchema = getAboutPageSchema(lang, siteUrl);

// Breadcrumb
const breadcrumbItems = [
  { name: "Home", url: `/${lang}` },
  { name: "Sobre", url: `/${lang}/sobre` },
];
const breadcrumbSchema = getBreadcrumbSchema(breadcrumbItems, siteUrl);

const schemas = [aboutPageSchema, breadcrumbSchema];
---

<BaseLayout title={seo.title} description={seo.description} schema={schemas}>
  <!-- Breadcrumbs -->
  <Breadcrumbs items={breadcrumbItems} />
  <!-- Hero Section -->
  <section class="about-hero">
    <div class="container">
      <h1 class="hero-title">{content.hero.title}</h1>
      <p class="hero-subtitle">{content.hero.subtitle}</p>
    </div>
  </section>

  <!-- Our Story Section -->
  <section class="our-story">
    <div class="container">
      <div class="story-content">
        <div class="story-image">
          <Image
            src={aboutImage}
            alt="Vista do Rio de Janeiro"
            width={600}
            height={450}
            format="webp"
            quality={85}
          />
        </div>
        <div class="story-text">
          <h2 class="section-title">{content.story.title}</h2>
          {content.story.paragraphs.map((paragraph) => <p>{paragraph}</p>)}
        </div>
      </div>
    </div>
  </section>

  <!-- Our Values Section -->
  <section class="our-values">
    <div class="container">
      <h2 class="section-title text-center">{content.values.title}</h2>
      <p class="section-subtitle text-center">{content.values.subtitle}</p>

      <div class="values-grid grid grid-2">
        {
          content.values.items.map((value, index) => (
            <article class="value-card">
              <div class="value-icon">
                {index === 0 && (
                  <svg
                    width="48"
                    height="48"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                  </svg>
                )}
                {index === 1 && (
                  <svg
                    width="48"
                    height="48"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                  </svg>
                )}
                {index === 2 && (
                  <svg
                    width="48"
                    height="48"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" />
                  </svg>
                )}
                {index === 3 && (
                  <svg
                    width="48"
                    height="48"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
                  </svg>
                )}
              </div>
              <h3 class="value-title">{value.title}</h3>
              <p class="value-description">{value.description}</p>
            </article>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Why Choose Us Section -->
  <section class="why-choose">
    <div class="container">
      <h2 class="section-title text-center">{content.stats.title}</h2>
      <div class="stats-grid">
        {
          content.stats.items.map((stat) => (
            <div class="stat-card">
              <div class="stat-number">{stat.number}</div>
              <div class="stat-label">{stat.label}</div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="about-cta">
    <div class="container">
      <div class="cta-content">
        <h2 class="cta-title">{content.cta.title}</h2>
        <p class="cta-subtitle">{content.cta.subtitle}</p>
        <div class="cta-buttons">
          <a href={`/${lang}/private-tours`} class="btn btn-primary btn-lg">
            {content.cta.buttonPrimary}
          </a>
          <a href={`/${lang}/contact`} class="btn btn-outline-secondary btn-lg">
            {content.cta.buttonSecondary}
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Hero Section */
  .about-hero {
    --about-hero-offset: clamp(2rem, 6vw, 2.5rem);
    --about-hero-offset-mobile: clamp(2.5rem, 8vw, 3.75rem);
    --about-hero-subtitle-max: clamp(34rem, 70vw, 43.75rem);

    padding: calc(var(--space-3xl) + var(--about-hero-offset)) 0 var(--space-3xl);
    background: linear-gradient(
      135deg,
      var(--color-bg-dark) 0%,
      var(--color-primary) 50%,
      var(--color-bg-dark) 100%
    );
    color: var(--color-text-inverse);
    text-align: center;
  }

  .hero-title {
    color: var(--color-text-inverse);
    margin-bottom: var(--space-md);
  }

  .hero-subtitle {
    font-size: var(--font-size-h5);
    color: color-mix(in srgb, var(--color-text-inverse) 90%, transparent);
    max-width: var(--about-hero-subtitle-max);
    margin: 0 auto;
  }

  /* Our Story Section */
  .our-story {
    --section-offset: clamp(2rem, 6vw, 2.5rem);
    --story-image-shadow: 0 8px 24px color-mix(in srgb, black 12%, transparent);
    padding: calc(var(--space-3xl) + var(--section-offset)) 0 var(--space-3xl);
  }

  .story-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-2xl);
    align-items: center;
  }

  .story-image {
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--story-image-shadow);
  }

  .story-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    aspect-ratio: 4 / 3;
  }

  .story-text {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
  }

  .story-text p {
    color: var(--color-text);
    line-height: var(--line-height-relaxed);
  }

  /* Our Values Section */
  .our-values {
    padding: calc(var(--space-3xl) + var(--section-offset)) 0 var(--space-3xl);
    background-color: var(--color-bg-soft);
  }

  .text-center {
    text-align: center;
  }

  .section-subtitle {
    font-size: var(--font-size-h5);
    color: var(--color-text-light);
    max-width: clamp(32rem, 70vw, 37.5rem);
    margin: 0 auto var(--space-2xl);
  }

  .values-grid {
    margin-top: var(--space-2xl);
  }

  .value-card {
    --value-card-lift: -4px;
    --value-card-shadow: 0 2px 8px color-mix(in srgb, black 8%, transparent);
    --value-card-shadow-hover: 0 8px 16px color-mix(in srgb, black 12%, transparent);
    --value-card-transition: var(--transition-duration-slow) var(--transition-easing-default);
    --value-icon-size: clamp(2.5rem, 5vw, 3rem);

    padding: var(--space-xl);
    background-color: var(--color-bg-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--value-card-shadow);
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    transition:
      transform var(--value-card-transition),
      box-shadow var(--value-card-transition);
  }

  .value-card:hover {
    transform: translateY(var(--value-card-lift));
    box-shadow: var(--value-card-shadow-hover);
  }

  .value-icon {
    width: var(--value-icon-size);
    height: var(--value-icon-size);
    color: var(--color-accent);
  }

  .value-title {
    font-size: var(--font-size-h5);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
    margin: 0;
  }

  .value-description {
    color: var(--color-text-light);
    line-height: var(--line-height-relaxed);
    margin: 0;
  }

  /* Why Choose Section */
  .why-choose {
    padding: calc(var(--space-3xl) + var(--section-offset)) 0 var(--space-3xl);
  }

  .stats-grid {
    --stats-min: 200px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--stats-min), 1fr));
    gap: var(--space-xl);
    margin-top: var(--space-2xl);
  }

  .stat-card {
    --stat-min-height: clamp(9rem, 20vw, 11.25rem);

    text-align: center;
    padding: var(--space-xl) var(--space-lg);
    background-color: var(--color-bg-soft);
    border-radius: var(--radius-lg);
    overflow: visible;
    min-height: var(--stat-min-height);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .stat-number {
    font-size: clamp(1.75rem, 3.5vw, 2.25rem);
    font-weight: var(--font-weight-bold);
    color: var(--color-accent);
    line-height: var(--line-height-tight);
    margin-bottom: var(--space-sm);
    overflow: visible;
    display: block;
    word-break: keep-all;
  }

  .stat-label {
    font-size: var(--font-size-h6);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
  }

  /* CTA Section */
  .about-cta {
    --about-cta-max: clamp(34rem, 70vw, 43.75rem);
    padding: calc(var(--space-3xl) + var(--section-offset)) 0 var(--space-3xl);
    background: linear-gradient(
      135deg,
      var(--color-bg-dark) 0%,
      var(--color-primary) 50%,
      var(--color-bg-dark) 100%
    );
    color: var(--color-text-inverse);
  }

  .cta-content {
    text-align: center;
    max-width: var(--about-cta-max);
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-lg);
  }

  .cta-title {
    color: var(--color-text-inverse);
    margin: 0;
  }

  .cta-subtitle {
    font-size: var(--font-size-h5);
    color: color-mix(in srgb, var(--color-text-inverse) 90%, transparent);
    margin: 0;
  }

  .cta-buttons {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
    justify-content: center;
  }

  /* Responsivo */
  @media (max-width: 768px) {
    .about-hero {
      padding: calc(var(--space-3xl) + var(--about-hero-offset-mobile)) 0 var(--space-xl);
    }

    .our-story {
      padding: var(--space-2xl) 0;
    }

    .story-content {
      grid-template-columns: 1fr;
      gap: var(--space-xl);
    }

    .our-values {
      padding: var(--space-2xl) 0;
    }

    .values-grid {
      grid-template-columns: 1fr;
    }

    .why-choose {
      padding: var(--space-2xl) 0;
    }

    .stats-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-md);
    }

    .about-cta {
      padding: var(--space-2xl) 0;
    }

    .cta-buttons {
      flex-direction: column;
      width: 100%;
      max-width: clamp(18rem, 80vw, 20rem);
    }

    .cta-buttons .btn {
      width: 100%;
    }
  }
</style>
