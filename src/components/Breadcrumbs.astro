---


interface Props {
  items: Array<{
    name: string;
    url: string;
  }>;
}

const { items } = Astro.props;
---

<nav class="breadcrumbs" aria-label="Breadcrumb">
  <ol class="breadcrumb-list">
    {
      items.map((item, index) => (
        <li class="breadcrumb-item">
          {index < items.length - 1 ? (
            <>
              <a href={item.url} class="breadcrumb-link">
                {item.name}
              </a>
              <svg
                class="breadcrumb-separator"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6 12L10 8L6 4"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </>
          ) : (
            <span class="breadcrumb-current">{item.name}</span>
          )}
        </li>
      ))
    }
  </ol>
</nav>

<style>
  .breadcrumbs {
    --breadcrumbs-top: clamp(4rem, 7vw, 4.5rem);
    --breadcrumbs-top-mobile: clamp(3.5rem, 6vw, 4rem);
    --breadcrumbs-padding-top: calc(var(--space-md) + var(--space-sm-compact));
    --breadcrumbs-padding-bottom: var(--space-md);
    --breadcrumbs-padding-mobile: var(--space-sm);
    --breadcrumbs-border: var(--border-width-hairline);
    --breadcrumbs-blur: var(--blur-sm);
    --breadcrumbs-bg: color-mix(in srgb, var(--color-bg-white) 95%, transparent);
    --breadcrumbs-shadow: 0 2px 8px color-mix(in srgb, black 5%, transparent);
    --breadcrumbs-shadow-dark: 0 2px 8px color-mix(in srgb, black 30%, transparent);
    --breadcrumbs-transition: box-shadow var(--transition-duration-slow) var(--transition-easing-default);
    --separator-size: clamp(0.625rem, 1.5vw, 0.75rem);

    
    position: sticky;
    top: var(--breadcrumbs-top); 
    z-index: calc(var(--navbar-z, 1000) - 1); 

    
    padding-top: var(--breadcrumbs-padding-top);
    padding-bottom: var(--breadcrumbs-padding-bottom);
    border-bottom: var(--breadcrumbs-border) solid var(--color-border);

    
    backdrop-filter: blur(var(--breadcrumbs-blur));
    background-color: var(--breadcrumbs-bg);

    
    transition: var(--breadcrumbs-transition);
  }

  
  .breadcrumbs.scrolled {
    box-shadow: var(--breadcrumbs-shadow);
  }

  .breadcrumb-list {
    max-width: var(--container-max);
    margin: 0 auto;
    padding: 0 var(--space-md);
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-xs);
    list-style: none;
  }

  .breadcrumb-item {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-small); 
  }

  .breadcrumb-link {
    color: var(--color-text-light);
    text-decoration: none;
    transition: color var(--transition-duration-normal) var(--transition-easing-default);
  }

  .breadcrumb-link:hover {
    color: var(--color-primary);
    text-decoration: underline;
  }

  .breadcrumb-separator {
    color: var(--color-text-muted);
    flex-shrink: 0;
  }

  .breadcrumb-current {
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
  }

  
  @media (max-width: 768px) {
    .breadcrumbs {
      top: var(--breadcrumbs-top-mobile); 
      padding: var(--breadcrumbs-padding-mobile) 0; 
    }

    .breadcrumb-list {
      font-size: var(--font-size-xs);
      gap: var(--space-2xs);
    }

    .breadcrumb-separator {
      width: var(--separator-size);
      height: var(--separator-size);
    }
  }

  
  :global(.dark) .breadcrumbs {
    --breadcrumbs-bg: color-mix(in srgb, var(--color-bg-soft) 95%, transparent);
    border-bottom-color: color-mix(in srgb, white 10%, transparent);
  }

  :global(.dark) .breadcrumbs.scrolled {
    box-shadow: var(--breadcrumbs-shadow-dark);
  }
</style>


<script>
  
  const breadcrumbs = document.querySelector(".breadcrumbs");

  if (breadcrumbs) {
    window.addEventListener("scroll", () => {
      const currentScroll = window.pageYOffset;

      
      if (currentScroll > 50) {
        breadcrumbs.classList.add("scrolled");
      } else {
        breadcrumbs.classList.remove("scrolled");
      }
    });
  }
</script>
